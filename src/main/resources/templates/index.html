<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>首页</title>
</head>
<body>

    <h1>社区首页</h1>
    <!--欢迎信息-->
    <p th:if="${loginUser!=null}">
        欢迎你, <span th:text="${loginUser.username}"></span>!
    </p>

    <ul>
        <li><a th:href="@{/discuss}">帖子详情</a></li>
        <li><a th:href="@{/letter}">私信列表</a></li>
        <li><a th:href="@{/loginpage}">登录</a></li>

        <!--重写退出，因为security要求退出产生post请求，th:href="@{/loginpage}"为get，不符合要求-->
        <!--<li><a th:href="@{/loginpage}">退出</a></li>-->
        <li>
            <form method="post" th:action="@{/logout}"><!--路径与配置文件中的配置相匹配-->
                <a href="javascript:document.forms[0].submit();">退出</a><!--document.forms获取当前页面的所有form，调用submit方法-->
            </form>
        </li>
    </ul>

</body>
</html>